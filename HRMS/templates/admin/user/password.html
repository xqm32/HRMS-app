{% extends 'admin/base.html' %}
{% set title = '用户信息' %}
{% block style %}
  <link rel="stylesheet"
        href="{{ url_for('static', filename='plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css') }}">
{% endblock %}
{% block content %}
  <form method="POST">
    <div class="card-body">
      {% for i in table.keys() %}
        <div class="form-group">
          <label for="{{ i }}">{{ i }}</label>
          <input name="{{ i }}" class="form-control" id="{{ i }}" value="{{ table[i] if table[i] }}" placeholder="{{ i if not table[i] }}" {{ 'disabled' if i in immutable_columns }} {{ 'type='+input_types[i] if i in input_types }}>
        </div>
      {% endfor %}
    </div>
    <!-- /.card-body -->
    <div class="card-footer">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
{% endblock %}
{% block script %}
  <script src="{{ url_for('static', filename='plugins/sweetalert2/sweetalert2.min.js') }}"></script>
  <script>
    var Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 3000
      });
  </script>
  {% for message in get_flashed_messages(with_categories=True) %}
    <script>
    Toast.fire({
        icon: '{{ message[0] }}',
        title: '{{ message[1] }}'
      })
    </script>
  {% endfor %}
{% endblock %}
